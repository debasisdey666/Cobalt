<app-header></app-header>
<app-sidebar></app-sidebar>

<main id="main" class="main">
    <div class="pagetitle">
        <h1>Doubts</h1>
    </div><!-- End Page Title -->
    <section class="section mainBodySec">
        <div class="row">
          <div class="col-xl-12">
  
            <div class="tblMN table-responsive text-nowrap">
              <table class="table table-striped">
                  <thead>
                    <tr>
                      <th>
                        Topic Name
                       </th> 
                        <th>
                            Instructor Name
                        </th> 
                        <th>
                          Question
                       </th>    
                       <th>
                         Question Added By
                      </th> 
                       <th>
                        Answer
                     </th>     
                       <th>
                        Answer Added By
                     </th> 
                                                      
                        <th class="actionTd1">
                            Action
                        </th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr  *ngFor="let showdb of pageOfItems">
                      <td>{{showdb.TOPIC_NAME}}</td>
                      <td>{{showdb.INSTRUCTURE_NAME}}</td>
                      <td>{{showdb.QUESTION}}</td>
                      <td>{{showdb.QUESTION_ADDEDBY}}</td>
                      <td>{{showdb.ANSWARE}}</td>
                      <td>{{showdb.ANSWARE_ADDEDBY}}</td>
                      <td>  
                        <a class="editBtn" title="Edit" data-bs-toggle="modal" (click)="editBtn(showdb,$event)" data-bs-target="#editModal"><i class="fa fa-pencil" aria-hidden="true"></i></a>
                          <!-- <p class="mb-0" *ngIf="showdb.STATUS==true; else elseBlock">
                            <a class="editBtn" title="Edit" data-bs-toggle="modal" (click)="editBtn(showdb,$event)" data-bs-target="#editModal"><i class="fa fa-pencil" aria-hidden="true"></i></a>
                            
                            <a href="#" class="activeBtn{{showdb.STATUS}}" (click)="actvinactv(showdb,$event)" data-bs-toggle="modal" data-bs-target="#statusModal">
                              <i title="Active" class="fa fa-check" aria-hidden="true"></i>
                              <i title="Deactive" class="fa fa-ban" aria-hidden="true"></i>
                          </a>
                          </p>
                          <ng-template #elseBlock>
                            <a class="editBtn inactiveEdit" title="Field Deactive"><i class="fa fa-pencil" aria-hidden="true"></i></a>
                            
                            <a href="#" class="activeBtn{{showdb.STATUS}}" (click)="actvinactv(showdb,$event)" data-bs-toggle="modal" data-bs-target="#statusModal">
                              <i title="Active" class="fa fa-check" aria-hidden="true"></i>
                              <i title="Deactive" class="fa fa-ban" aria-hidden="true"></i>
                            </a>
  
                          </ng-template> -->
                          
                      </td>
                    </tr>
                   
                  </tbody>
              </table>
          </div>
          <jw-pagination [items]="showdbt" [pageSize]="pageSize" (changePage)="onChangePage($event)"></jw-pagination>
          <a class="btn btn-primary mt-4  px-4 py-3" href="#" data-bs-toggle="modal" data-bs-target="#AddModal" role="button">Add</a>
          </div>
        </div>
      </section>  
</main><!-- End #main -->

  <!-- Add Modal -->
  <div class="modal fade" id="AddModal" tabindex="-1" aria-labelledby="AddModal" aria-hidden="true" data-bs-backdrop="static">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Add Doubt</h5>
          <button type="button" class="btn-cls" data-bs-dismiss="modal" aria-label="Close">x</button>
        </div> 
        <form #getDoubtForm="ngForm" (ngSubmit)="getDoubtFormdata(getDoubtForm.value)" novalidate>
            <div class="modal-body">
  
              <small class="mandatoryFld"> <strong>*</strong>  Mandatory field</small>
  
              <div *ngIf="addSuccessmessage" class="alert alert-success mt-3" role="alert">
                Saved Successfully.
              </div> 
              
                <div class="row">
  
  
                  <div class="col-md-12 mt-3">
                    <label class="form-label">Topic<strong class="required"> *</strong> </label> 
  
                    <!-- <input type="text" name="TOPIC_NAME" class="form-control" ngModel required #TOPIC_NAME="ngModel" pattern="^[^\s].*[^\s]$" placeholder="e.g: UG">  -->
                    
                  <select class="form-select" ngModel name="TOPIC_ID" data-live-search="true" required #TOPIC_ID="ngModel">
                    <option value="">-- Select One --</option>
                    <option *ngFor="let showTpc of showTopc" [value]="showTpc.ID">
                      {{showTpc.TOPIC_NAME}}
                    </option>
                  </select>


                    <div class="alert alert-danger" *ngIf="TOPIC_ID.touched && TOPIC_ID.invalid">
                      <div class="" *ngIf="TOPIC_ID.errors?.required">
                        This field is required
                      </div>
                      <div class="" *ngIf="TOPIC_ID.errors?.pattern">
                        Invalid Input
                      </div>
                    </div>                  
                  </div>
                  <div class="col-md-12 mt-3">
                    <label class="form-label">Instructor<strong class="required"> *</strong> </label> 
  
                    <!-- <input type="text" name="INSTRUCTURE_NAME" class="form-control" ngModel required #INSTRUCTURE_NAME="ngModel" pattern="^[^\s].*[^\s]$" placeholder="e.g: UG">  -->
                    
                    <select class="form-select" ngModel name="INSTRUCTURE_ID" data-live-search="true" required #INSTRUCTURE_ID="ngModel">
                      <option value="">-- Select One --</option>
                      <option *ngFor="let showin of showIns" [value]="showin.ID">
                        {{showin.NAME}}
                      </option>
                    </select>
                    
                    <div class="alert alert-danger" *ngIf="INSTRUCTURE_ID.touched && INSTRUCTURE_ID.invalid">
                      <div class="" *ngIf="INSTRUCTURE_ID.errors?.required">
                        This field is required
                      </div>
                      <div class="" *ngIf="INSTRUCTURE_ID.errors?.pattern">
                        Invalid Input
                      </div>
                    </div>                  
                  </div>
                  <div class="col-md-12 mt-3">
                    <label class="form-label">Question<strong class="required"> *</strong> </label> 
  
                    <input type="text" name="QUESTION" class="form-control" ngModel required #QUESTION="ngModel" pattern="^[^\s].*[^\s]$" > 
                    <div class="alert alert-danger" *ngIf="QUESTION.touched && QUESTION.invalid">
                      <div class="" *ngIf="QUESTION.errors?.required">
                        This field is required
                      </div>
                      <div class="" *ngIf="QUESTION.errors?.pattern">
                        Invalid Input
                      </div>
                    </div>                  
                  </div> 
                  <div class="col-md-12 mt-3">
                    <label class="form-label">Answer<strong class="required"> *</strong> </label> 
  
                    <input type="text" name="ANSWARE" class="form-control" ngModel required #ANSWARE="ngModel" pattern="^[^\s].*[^\s]$" > 
                    <div class="alert alert-danger" *ngIf="ANSWARE.touched && ANSWARE.invalid">
                      <div class="" *ngIf="ANSWARE.errors?.required">
                        This field is required
                      </div>
                      <div class="" *ngIf="ANSWARE.errors?.pattern">
                        Invalid Input
                      </div>
                    </div>                  
                  </div>
                       
                </div>
            </div>
            <div class="modal-footer">
              <button type="reset" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>              
              <button class="btn btn-primary"  [disabled]="getDoubtForm.invalid || isSubmit" >Submit</button>
            </div>
          </form>
     
        
     
        </div>
    </div>
  </div>


   <!-- Edit Modal -->
   <div class="modal fade" id="editModal" tabindex="-1" aria-labelledby="editModal" aria-hidden="true" data-bs-backdrop="static">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Edit Doubt</h5>
          <button type="button" class="btn-cls" data-bs-dismiss="modal" aria-label="Close">x</button>
        </div> 
        <form #editDoubtForm="ngForm" (ngSubmit)="editDoubtFormdata(editDoubtForm.value)" novalidate>
            <div class="modal-body">
  
              <small class="mandatoryFld"> <strong>*</strong>  Mandatory field</small>
  
              <div *ngIf="addSuccessmessage" class="alert alert-success mt-3" role="alert">
                Saved Successfully.
              </div> 
              
                <div class="row">
  
  
                  <div class="col-md-12 mt-3">
                    <label class="form-label">Topic<strong class="required"> *</strong> </label> 
  

                  <select class="form-select" ngModel name="TOPIC_ID" data-live-search="true" #TOPIC_ID="ngModel" [(ngModel)]="doubtsUpdate.TOPIC_ID">
                    <option value="" disabled>Select One</option>
                    <option *ngFor="let showTpc of showTopc" [value]="showTpc.ID">
                      {{showTpc.TOPIC_NAME}}
                    </option>
                  </select> 


                    <!-- <div class="alert alert-danger" *ngIf="TOPIC_ID.touched && TOPIC_ID.invalid">
                      <div class="" *ngIf="TOPIC_ID.errors?.required">
                        This field is required
                      </div>
                      <div class="" *ngIf="TOPIC_ID.errors?.pattern">
                        Invalid Input
                      </div>
                    </div>                   -->
                  </div>
                  <div class="col-md-12 mt-3">
                    <label class="form-label">Instructor<strong class="required"> *</strong> </label> 
  
                    <!-- <input type="text" name="INSTRUCTURE_NAME" class="form-control" ngModel required #INSTRUCTURE_NAME="ngModel" pattern="^[^\s].*[^\s]$" placeholder="e.g: UG">  -->
                    <select class="form-select" ngModel name="INSTRUCTURE_ID" data-live-search="true" #INSTRUCTURE_ID="ngModel" [(ngModel)]="doubtsUpdate.INSTRUCTURE_ID">                  
                      <option value="">-- Select One --</option>
                      <option *ngFor="let showin of showIns" [value]="showin.ID">
                        {{showin.NAME}}
                      </option>
                    </select>
                    
                    <!-- <div class="alert alert-danger" *ngIf="INSTRUCTURE_ID.touched && INSTRUCTURE_ID.invalid">
                      <div class="" *ngIf="INSTRUCTURE_ID.errors?.required">
                        This field is required
                      </div>
                      <div class="" *ngIf="INSTRUCTURE_ID.errors?.pattern">
                        Invalid Input
                      </div>
                    </div>                   -->
                  </div>
                  <div class="col-md-12 mt-3">
                    <label class="form-label">Question<strong class="required"> *</strong> </label> 
  
                    <input type="text" class="form-control" name="QUESTION"  pattern="^[^\s].*[^\s]$" #QUESTION="ngModel" [(ngModel)]="doubtsUpdate.QUESTION" [value]="doubtsUpdate.QUESTION">                
                    <input type="hidden" class="form-control" [(ngModel)]="doubtsUpdate.ID" name="ID" [value]="doubtsUpdate.ID">   
                    <!-- <div class="alert alert-danger" *ngIf="QUESTION.touched && QUESTION.invalid">
                      <div class="" *ngIf="QUESTION.errors?.required">
                        This field is required
                      </div>
                      <div class="" *ngIf="QUESTION.errors?.pattern">
                        Invalid Input
                      </div>
                    </div>                   -->
                  </div> 
                  <div class="col-md-12 mt-3">
                    <label class="form-label">Answer<strong class="required"> *</strong> </label> 
                    <input type="text" class="form-control" name="ANSWARE"  pattern="^[^\s].*[^\s]$" #ANSWARE="ngModel" [(ngModel)]="doubtsUpdate.ANSWARE" [value]="doubtsUpdate.ANSWARE">
                    <!-- <div class="alert alert-danger" *ngIf="ANSWARE.touched && ANSWARE.invalid">
                      <div class="" *ngIf="ANSWARE.errors?.required">
                        This field is required
                      </div>
                      <div class="" *ngIf="ANSWARE.errors?.pattern">
                        Invalid Input
                      </div>
                    </div>                   -->
                  </div>
                       
                </div>
            </div>
            <div class="modal-footer">
              <button type="reset" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>              
              <button class="btn btn-primary"  >Submit</button>
            </div>
          </form>
     
        
     
        </div>
    </div>
  </div>


<app-footer></app-footer>