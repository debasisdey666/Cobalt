<main id="main" class="main">

    <div class="pagetitle">
      <h1>MIS</h1>
    </div><!-- End Page Title -->

    <section class="section mainBodySec">
      <div class="row">
        <div class="col-xl-12">
            <form #searchMisInp="ngForm" (ngSubmit)="searchMisInput(searchMisInp.value)" novalidate>
                <div class="row mb-4">
                  <div class="col-sm-3 pe-0">
                    <label class="form-label">MIS Report</label>
                    <select required class="form-select" [(ngModel)]="selectedMISReport" name="misReport" id="misReport">
                      <option value="0">Select MIS Report</option>
                      <option value="1">FEES COLLECTION</option>
                      <option value="2">STUDENT COUNT</option>
                      <option value="3">FACULTY COUNT</option>
                      <option value="4">STUDENT HISTORY</option>
                      <option value="5">FEES DEFAULTER</option>
                      <option value="6">LIBRARY DEFAULTER</option>
                    </select>
                  </div>
                  <div class="col-sm-3 pe-0" *ngIf="selectedMISReport == '4'" >
                    <label class="form-label">Branch</label>
                    <select required class="form-select" ngModel name="brancH_ID" data-live-search="true"
                        #brancH_ID="ngModel">
                        <option value="" disabled>Select One</option>
                        <option *ngFor="let branchDropdwn of showBranch" [value]="branchDropdwn.ID">
                            {{branchDropdwn.BRANCH_NAME}}
                        </option>
                    </select>
                </div>
                <div class="col-sm-2 pe-0" *ngIf="selectedMISReport == '4'" >
                  <label class="form-label">Academic Year</label>
                  <select required class="form-select" ngModel name="aY_ID" data-live-search="true"
                      #aY_ID="ngModel">
                      <option value="" disabled>Select One</option>
                      <option *ngFor="let AcademicYearDropdwn of showAcademicYearTrue"
                          [value]="AcademicYearDropdwn.ID">{{AcademicYearDropdwn.AY}}
                      </option>
                  </select>
                </div>
                
                <div class="col-sm-2 pe-0" *ngIf="selectedMISReport == '4'" >
                  <label class="form-label">Semester</label>                   
                    <select required class="form-select" ngModel name="seM_ID" data-live-search="true"
                        #seM_ID="ngModel">
                        <option value="" disabled>Select One</option>
                        <option *ngFor="let semDropdwn of showSem" [value]="semDropdwn.ID">
                            {{semDropdwn.SEM}}
                        </option>
                    </select>                        
                </div>
              
                  <div class="col-sm-2 pe-0 mt-1">     
                    <button type="submit" class="btn btn-primary px-5 py-3 me-1 mt-4" [disabled]="selectedMISReport == '0' || !searchMisInp.form.valid || buttonDisabled">Search</button>
                  </div>
                </div>              
              </form>
              
        </div>

        <div class="tblMN table-responsive text-nowrap">
          <table class="table table-striped">
              <thead>
                <tr>
                        
                    <th>Name</th> 
                   <th>Email</th>                                 
                   <th>Phone No.</th>                                 
                   <th>Registration No.</th>                                 
                   <th>Date Of Birth</th>                               
                    <th class="actionTd1">
                        Action
                    </th>
                </tr>
              </thead>
              <tbody>
                <tr  *ngFor="let showStuHistry of pageOfItems">                  
                  <td>{{showStuHistry.STUDENT_NAME}}</td>
                  <td>{{showStuHistry.EMAIL}}</td>
                  <td>{{showStuHistry.PH_NUMBER}}</td>
                  <td>{{showStuHistry.STUDENT_REGISTRATION}}</td>
                  <td>{{showStuHistry.DOB}}</td>
                  <td>
                    <a class="linkIcon" title="View" [routerLink]="['../student-history', showStuHistry.ID]"><i class="fa fa-share-square-o" aria-hidden="true"></i></a>
                        
                  </td>
                </tr>
                <tr>
                  
                </tr>

               
              </tbody>
            
          </table>
      </div>
      <div class="col-md-6 pull-left">
        <jw-pagination [items]="showStuHistory" [pageSize]="pageSize" (changePage)="onChangePage($event)"></jw-pagination>
      </div>

      <div *ngIf="errorMessage" class="alert alert-danger mt-3" role="alert">
        Data not found
    </div>
     
      </div>
    </section>  

  </main><!-- End #main -->
